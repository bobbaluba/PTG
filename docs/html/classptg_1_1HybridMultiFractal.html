<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>PTG: ptg::HybridMultiFractal Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PTG
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">A Procedural Terrain Generator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>ptg</b></li><li class="navelem"><a class="el" href="classptg_1_1HybridMultiFractal.html">HybridMultiFractal</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classptg_1_1HybridMultiFractal-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ptg::HybridMultiFractal Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Fractal noise generated using hybrid fractional brownian motion.  
 <a href="classptg_1_1HybridMultiFractal.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="HybridMultiFractal_8hpp_source.html">HybridMultiFractal.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ptg::HybridMultiFractal:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classptg_1_1HybridMultiFractal.png" usemap="#ptg::HybridMultiFractal_map" alt=""/>
  <map id="ptg::HybridMultiFractal_map" name="ptg::HybridMultiFractal_map">
<area href="classptg_1_1Continuous2DSignal.html" title="A continuous 2d signal." alt="ptg::Continuous2DSignal" shape="rect" coords="0,56,149,80"/>
<area href="classptg_1_1Seedable.html" title="An abstract interface class for objects that can be seeded and reseeded." alt="ptg::Seedable" shape="rect" coords="0,0,149,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aad88715176c8c2083679f14a1d78e54f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad88715176c8c2083679f14a1d78e54f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>HybridMultiFractal</b> (unsigned int <a class="el" href="classptg_1_1Seedable.html#acc369d90a59660ffc390ff83107dcdf4">seed</a>=0)</td></tr>
<tr class="memitem:a8da7a43ecb49f6fa64b84c1b3b42ae6d"><td class="memItemLeft" align="right" valign="top">virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classptg_1_1HybridMultiFractal.html#a8da7a43ecb49f6fa64b84c1b3b42ae6d">get</a> (float x, float y)</td></tr>
<tr class="memitem:af8c52a495b4be949fdbd1f37cc0a4316"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classptg_1_1HybridMultiFractal.html#af8c52a495b4be949fdbd1f37cc0a4316">onReSeed</a> (unsigned int <a class="el" href="classptg_1_1Seedable.html#acc369d90a59660ffc390ff83107dcdf4">seed</a>)</td></tr>
<tr class="memdesc:af8c52a495b4be949fdbd1f37cc0a4316"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template function that reseedable subclasses should implement.  <a href="#af8c52a495b4be949fdbd1f37cc0a4316"></a><br/></td></tr>
<tr class="memitem:a41666015a8e491eac73f5a14810b916a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a41666015a8e491eac73f5a14810b916a"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classptg_1_1HybridMultiFractal.html#a41666015a8e491eac73f5a14810b916a">setBaseNoise</a> (<a class="el" href="classptg_1_1Continuous2DSignal.html">Continuous2DSignal</a> *signal)</td></tr>
<tr class="memdesc:a41666015a8e491eac73f5a14810b916a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the base noise function for the algorithm suitable choices are <a class="el" href="classptg_1_1ValueNoise.html" title="Two dimensional value noise.">ValueNoise</a> or Perlin Noise. <br/></td></tr>
<tr class="memitem:a94a9331fd7139f87d6dd5147bb3a6c2d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a94a9331fd7139f87d6dd5147bb3a6c2d"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classptg_1_1HybridMultiFractal.html#a94a9331fd7139f87d6dd5147bb3a6c2d">setOctaves</a> (unsigned int octaves)</td></tr>
<tr class="memdesc:a94a9331fd7139f87d6dd5147bb3a6c2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the "depth" of the fractal noise. Sets how many "layers" of noise we are going to add together. Typical values lie between 3 and 9. <br/></td></tr>
<tr class="memitem:a2f3f49f8143e520751db999554a5d27e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2f3f49f8143e520751db999554a5d27e"></a>
virtual unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>getOctaves</b> () const </td></tr>
<tr class="memitem:a601d977a3790653f471c63d2ff212c19"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a601d977a3790653f471c63d2ff212c19"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classptg_1_1HybridMultiFractal.html#a601d977a3790653f471c63d2ff212c19">setLacunarity</a> (float lacunarity)</td></tr>
<tr class="memdesc:a601d977a3790653f471c63d2ff212c19"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets the lacunarity this is the relation between the frequency of succesive layers in fbm-like algorithms <br/></td></tr>
<tr class="memitem:a67d1d53a14afd116748e6e235906931c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a67d1d53a14afd116748e6e235906931c"></a>
virtual float&#160;</td><td class="memItemRight" valign="bottom"><b>getLacunarity</b> () const </td></tr>
<tr class="memitem:a2624c8013898f7b1e29d9833e0688b62"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classptg_1_1HybridMultiFractal.html#a2624c8013898f7b1e29d9833e0688b62">setOffset</a> (float offset)</td></tr>
<tr class="memdesc:a2624c8013898f7b1e29d9833e0688b62"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets the offset. This value is added to the noise before multiplications  <a href="#a2624c8013898f7b1e29d9833e0688b62"></a><br/></td></tr>
<tr class="memitem:a2c083131f5584a2561ff1e8bfcd8c565"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c083131f5584a2561ff1e8bfcd8c565"></a>
virtual float&#160;</td><td class="memItemRight" valign="bottom"><b>getOffset</b> () const </td></tr>
<tr class="memitem:a05b58be61dcfcc65313d5879fa8099ae"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classptg_1_1HybridMultiFractal.html#a05b58be61dcfcc65313d5879fa8099ae">setH</a> (float H)</td></tr>
<tr class="memdesc:a05b58be61dcfcc65313d5879fa8099ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets the H value  <a href="#a05b58be61dcfcc65313d5879fa8099ae"></a><br/></td></tr>
<tr class="memitem:ac82039200301ec580301350ef9c94a71"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac82039200301ec580301350ef9c94a71"></a>
virtual float&#160;</td><td class="memItemRight" valign="bottom"><b>getH</b> () const </td></tr>
<tr class="inherit_header pub_methods_classptg_1_1Continuous2DSignal"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classptg_1_1Continuous2DSignal')"><img src="closed.png" alt="-"/>&nbsp;Public Member Functions inherited from <a class="el" href="classptg_1_1Continuous2DSignal.html">ptg::Continuous2DSignal</a></td></tr>
<tr class="memitem:a8dfaedb0ed09cdc96e33641938089821 inherit pub_methods_classptg_1_1Continuous2DSignal"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8dfaedb0ed09cdc96e33641938089821"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Continuous2DSignal</b> (unsigned int <a class="el" href="classptg_1_1Seedable.html#acc369d90a59660ffc390ff83107dcdf4">seed</a>=0)</td></tr>
<tr class="inherit_header pub_methods_classptg_1_1Seedable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classptg_1_1Seedable')"><img src="closed.png" alt="-"/>&nbsp;Public Member Functions inherited from <a class="el" href="classptg_1_1Seedable.html">ptg::Seedable</a></td></tr>
<tr class="memitem:aa65200c6f99e5719ae911cc3b67b907d inherit pub_methods_classptg_1_1Seedable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa65200c6f99e5719ae911cc3b67b907d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Seedable</b> (unsigned int <a class="el" href="classptg_1_1Seedable.html#acc369d90a59660ffc390ff83107dcdf4">seed</a>=0)</td></tr>
<tr class="memitem:acc369d90a59660ffc390ff83107dcdf4 inherit pub_methods_classptg_1_1Seedable"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classptg_1_1Seedable.html#acc369d90a59660ffc390ff83107dcdf4">seed</a> (unsigned int seed)</td></tr>
<tr class="memdesc:acc369d90a59660ffc390ff83107dcdf4 inherit pub_methods_classptg_1_1Seedable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reeseed the seedable.  <a href="#acc369d90a59660ffc390ff83107dcdf4"></a><br/></td></tr>
<tr class="memitem:abbe5b19f344fe05d8243fa014cfbc2e6 inherit pub_methods_classptg_1_1Seedable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abbe5b19f344fe05d8243fa014cfbc2e6"></a>
virtual unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classptg_1_1Seedable.html#abbe5b19f344fe05d8243fa014cfbc2e6">getSeed</a> () const </td></tr>
<tr class="memdesc:abbe5b19f344fe05d8243fa014cfbc2e6 inherit pub_methods_classptg_1_1Seedable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current seed. <br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Fractal noise generated using hybrid fractional brownian motion. </p>
<p>As described in this paper: <a href="http://www8.cs.umu.se/kurser/TDBD12/HT01/papers/MusgraveTerrain00.pdf">http://www8.cs.umu.se/kurser/TDBD12/HT01/papers/MusgraveTerrain00.pdf</a></p>
<p>THIS IS THE DOCUMENTATION FOR FRACTIONAL BROWNIAN MOTION. The hybrid fractal is a slightly modified version</p>
<p>The algorithm takes a <a class="el" href="classptg_1_1Continuous2DSignal.html" title="A continuous 2d signal.">Continuous2DSignal</a> as its source to create a fractal noise The noise is scaled to different frequencies and amplitudes, and these are added together.</p>
<p>The algorithm is an easy way to create more interesting noise out of simple smoothed white noise, such as Perlin noise or value noise.</p>
<h2>Complexity</h2>
<p>The complexity depends greatly on the choice of noise function. If the noise function's complexity is f(n), the complexity of fbm is: </p>
<pre class="fragment">THETA(WIDTH^2*octaves*f(n))
</pre><p>Where octaves is the number "layers" added together. This will usually be a number between 3 and 9.</p>
<h2>Limitations and Artifacts when used as terrain</h2>
<p>Depending on the choice of noise function, there may be a number of visible artifacts. If your noise signal is repeating over a relatively short period, there will be visible artifacts in the resulting terrain. The reason for this, is that when we are shading terrain, the diffuse lighting depends on the derivative of the terrain, and therefore small changes will be visible.</p>
<p>To solve this, you might either:</p>
<ul>
<li>Adjust gain so it's low enough that the highest octaves barely change the terrain values.</li>
<li>Reduce the number of octaves, so the terrain won't repeat itself too much in the visible distance.</li>
<li>Add a post-filter with diamond-square displacement to do the smallest levels of displacement, as diamond square doesn't repeat itself, even on the smallest layers.</li>
<li>Reduce specular/diffuse lighting and rely more on textures to show the tiniest bumps in the terrain. </li>
</ul>
</div><h2>Member Function Documentation</h2>
<a class="anchor" id="a8da7a43ecb49f6fa64b84c1b3b42ae6d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float ptg::HybridMultiFractal::get </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute the signal value at the given point </p>
<dl class="section return"><dt>Returns</dt><dd>signal value </dd></dl>

<p>Implements <a class="el" href="classptg_1_1Continuous2DSignal.html#a759c604688ae68f3a448f099d7597558">ptg::Continuous2DSignal</a>.</p>

</div>
</div>
<a class="anchor" id="af8c52a495b4be949fdbd1f37cc0a4316"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ptg::HybridMultiFractal::onReSeed </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>seed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Template function that reseedable subclasses should implement. </p>
<p>Called when the seedable is reseeded </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">seed</td><td>the new seed. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classptg_1_1Seedable.html#a35b879651db6436d97cffed274fc7b12">ptg::Seedable</a>.</p>

</div>
</div>
<a class="anchor" id="a05b58be61dcfcc65313d5879fa8099ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ptg::HybridMultiFractal::setH </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>H</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>sets the H value </p>
<p>This value controls how the amplitude changes from octave to octave. A high value means the amplitude will decrease faster 0.25 will probably be a decent value </p>

</div>
</div>
<a class="anchor" id="a2624c8013898f7b1e29d9833e0688b62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ptg::HybridMultiFractal::setOffset </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>sets the offset. This value is added to the noise before multiplications </p>
<p>Assuming the noise value varies from -1 to 1, 0.7 will probably be a decent value </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/ptg/<a class="el" href="HybridMultiFractal_8hpp_source.html">HybridMultiFractal.hpp</a></li>
<li>src/ptg/<a class="el" href="HybridMultiFractal_8cpp.html">HybridMultiFractal.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 13 2012 00:56:56 for PTG by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
